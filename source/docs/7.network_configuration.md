# 7. Network Configuration for Robot

## 7.1 Changing Wi-Fi Name and Password

When connecting a computer to the hotspot generated by the Raspberry Pi, the hotspot name usually starts with **"HW"**. However, if there are multiple TurboPi devices nearby, it may cause accidental connections. This section provides a detailed explanation of how to modify the default Wi-Fi name and password.

(1) Power on the TurboPi, and connect your computer to the hotspot it generates, typically named starting with **"HW"**. When connecting for the first time, the default password is hiwonder.

<img class="common_img" src="../_static/media/chapter_7/1/image2.png"   />

(2) Establish a VNC connection with the TurboPi.

<img class="common_img" src="../_static/media/chapter_7/1/image3.png" />

(3) Click the icon <img src="../_static/media/chapter_7/1/image4.jpeg"   /> in the top-left corner of the desktop, or press **Ctrl + Alt + T t**o open the terminal.

<img class="common_img" src="../_static/media/chapter_7/1/image5.png" />

(4) In the terminal, enter the command "**cd hiwonder-toolbox**" and press Enter to navigate to the Wi-Fi configuration directory.

```
cd hiwonder-toolbox
```

<img class="common_img" src="../_static/media/chapter_7/1/image6.png" />

(5) Next, open the Wi-Fi configuration file using the command

```
sudo vim wifi_conf.py
```

(6) The interface is shown as below:

<img class="common_img" src="../_static/media/chapter_7/1/image8.png" />

(7) Enter :set number and press Enter to show line numbers, you can set as needed.

```
:set number
```

<img class="common_img" src="../_static/media/chapter_7/1/image9.png" />

(8) Press the **"i"** key on your keyboard, and you will see **"--INSERT--"** at the bottom left of the screen, indicating that the file is now editable. You can now modify the file according to your needs, referring to the corresponding comments.

<img class="common_img" src="../_static/media/chapter_7/1/image10.png" />

(9) Suppose you want to change the Wi-Fi name of the Raspberry Pi to **"HW-TurboPi"** and the password to **"123456789"**, then you only need to modify the program as shown in the figure below.

:::{Note}

You can set the Wi-Fi name and password according to your needs, but the following rules must be followed:

① The set Wi-Fi name cannot be the same as any existing router name and must start with "**HW**".

② The password must be at least 8 characters.

:::

To restore the original settings, simply reverse the above operations.

<img class="common_img" src="../_static/media/chapter_7/1/image11.png" />

(10) After completing the modifications, press the "**ESC**" key on your keyboard, then enter :wq to save and exit the file.

<img class="common_img" src="../_static/media/chapter_7/1/image12.png" />

(11) Enter the command **"sudo systemctl restart hw_wifi.service"** in the terminal, and the VNC will automatically disconnect and restart.

```
sudo systemctl restart hw_wifi.service
```

(12) Wait for the device to reboot and connect to the **"HW-TurboPi"** network, with the password **"123456789".**

<img class="common_img" src="../_static/media/chapter_7/1/image14.png" style="width:350px;" />

(13) Once connected successfully, wait for the VNC interface to refresh.

(14) After successful connection, the VNC remote desktop will display the desktop as shown in the figure below.

<img class="common_img" src="../_static/media/chapter_7/1/image3.png" />

## 7.2 Modify Network Connection Mode

This section uses TurboPi as an example, and the same content applies to other products.

The previous lessons introduce how to connect the robot using LAN mode via the app on the phone. This section will explain in detail how to switch to LAN mode by modifying the Wi-Fi configuration file.

:::{Note}

After modification, if you want to switch back to direct connection mode, simply reverse the steps described below.

:::

(1) Power on the robot and connect your computer to the hotspot generated by the robot, usually starts with **"HW".**

<img class="common_img" src="../_static/media/chapter_7/2/image2.png"   />

(2) Establish a VNC connection with the robot.

<img class="common_img" src="../_static/media/chapter_7/2/image3.png" />

(3) Click the icon <img  src="../_static/media/chapter_7/2/image4.jpeg"   /> in the top-left corner of the desktop, or press Ctrl + Alt + T to open the terminal.

<img class="common_img" src="../_static/media/chapter_7/2/image5.png" />

(4) In the terminal, enter the command **"cd hiwonder-toolbox"** and press Enter to navigate to the Wi-Fi configuration directory.

```
cd hiwonder-toolbox
```

<img class="common_img" src="../_static/media/chapter_7/2/image6.png" />

(5) Next, open the Wi-Fi configuration file using the command：

```
vim wifi_conf.py
```

(6) The interface is shown as below:

<img class="common_img" src="../_static/media/chapter_7/2/image8.png" />

(7) Enter **":set number"** and press Enter to show line numbers, you can set as needed.

```
:set number
```

(8) Press the **"i"** key on your keyboard, and you will see **"--INSERT--"** at the bottom left of the screen.

<img class="common_img" src="../_static/media/chapter_7/2/image10.png" />

(9) Change the mode to STA (LAN) mode. Modify the program as shown in the example below.

:::{Note}

The following uses connection to the "**Hiwonder**" network as an example. You can modify it based on your need. To revert to the original configuration, change HW-WIFI-MODE = 2 back to 1 to switch the Wi-Fi mode to AP mode.

:::

**Avoid using campus networks or Wi-Fi names that contain Chinese characters.**

<img class="common_img" src="../_static/media/chapter_7/2/image11.png" />

(10) After completing the modifications, press the **"ESC"** key on your keyboard, then enter :wq to save and exit the file.

<img class="common_img" src="../_static/media/chapter_7/2/image12.png" />

(11) Enter the command **"sudo systemctl restart wifi.service"** in the terminal, and the VNC will automatically disconnect and restart. If the robot's LED2 remains steadily on, it indicates the mode has been successfully changed to LAN.

```
sudo systemctl restart wifi.service
```

(12) To check the Raspberry Pi's IP address using the mobile app, first connect your phone to the same LAN, **"Hiwonder"** in this case.

<img class="common_img" src="../_static/media/chapter_7/2/image14.png" style="width:400px;"/>

(13) Open the WonderPi app and select **"Standard" \> "TurboPi"**.

<img class="common_img" src="../_static/media/chapter_7/2/image15.png" style="width:700px;"/>

(14) Once the app connects to TurboPi, you'll see an icon like the one below indicating a successful connection.

<img class="common_img" src="../_static/media/chapter_7/2/image16.png" style="width:700px;" />

(15) Long-press the corresponding icon of your robot in the app to view its assigned IP address and Device ID.

<img class="common_img" src="../_static/media/chapter_7/2/image17.png" />

(16) Open the VNC software, enter the IP 192.168.11.109 to connect.  

(17) After a successful connection, the VNC remote desktop will display as shown below.

<img class="common_img" src="../_static/media/chapter_7/2/image3.png" />